{"version":3,"sources":["components/error-indicator/death-star.png","components/header/index.js","components/header/header.js","components/footer/index.js","components/footer/footer.js","services/weather-service.js","components/error-indicator/index.js","components/error-indicator/error-indicator.js","const/api.js","components/results-weather/results-weather.js","components/results-weather/index.js","components/search-form/search-form.js","components/search-form/index.js","components/main/index.js","components/main/main.js","components/app/index.js","components/app/app.js","index.js"],"names":["module","exports","Header","className","Footer","WeatherService","_apiBase","_transformData","data","str","weather","description","cloud","substr","toUpperCase","temp","Math","floor","main","wind","speed","img","icon","town","name","lang","api","fetch","this","res","ok","Error","status","json","getResource","ErrorIndicator","src","alt","API_KEY","ResultsWeather","weatherService","state","hasRain","hasError","getData","getAllWeather","props","then","setState","catch","err","console","log","setError","getClothes","clothes","imgClothes","prevProps","content","Component","UmbrellaView","Fragment","SearchForm","input","error","inputChange","event","target","value","changeTown","preventDefault","contentError","onChange","placeholder","onClick","ErrorView","Main","App","showRandomPlanet","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.016440d3.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAMAAACdt4HsAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABcVBMVEUAAACUMUKVNESUNUaTNEWTNEWTNUWUNEWUNEWUNEWTNEWUNEWUNEWVNEWVNESUNUeWMkOUNUWVNEWUNEWTM0aVNUSSN0mVNUaUNEWUNEWUNEWVNESSNESWLUuUNESUNEWUNEafQECUNEaUNUWXNEaUMkaUNEWVNUaVM0SUNEWUM0WdO06UM0SVM0WSNkeVNUCUNEWUNEWVNEaUNESTMUWVMkSXOEiUNEWUNUSVNUSVK0CUNEWVNEWQN0OUNEaVNESUNEWAQED/AACUNEWZM02UNEaTNUaVM0SVNUaUNEaTNESSN0mUNEWUNUaZMzOUNEWVM0WUNEWTNkWUNEWVNEaXLkaUNEWUNEWXOUKUNEWVM0WUNkWSMkeUNEWUNUWUNEWUNEWVNUSUM0aTNUaTMkSUNEaUNESUNEWUNESPMECUNEWUNkOUNEWTNESUNUaTNEWZM0CUNEWVNEaUNUWVNUWSNUSUNEWUNEWTNESUNEUAAAAeSPByAAAAeXRSTlMAH155k63H4fjr07qiiWwrLn7O45pSDh2N3vuvMRGK97AIde4sTOJqeP2pDaTaLxjIwYRPGikg7FZlDNK2F8aoegQB2wpYhzxbko4c9j4Fnn3zNNS7FsuyG/FzUT3+jF3lwm5XR2Lya3AQ+ibqU6WmFNZx6TBESqdASVNu+gAAAAFiS0dEAIgFHUgAAAAJcEhZcwAADdcAAA3XAUIom3gAAAAHdElNRQfiCRwPAQ3scZC+AAACoUlEQVRYw6WX+WPSMBTH6z11OhXva4hnFR0MdBsymGzshLmjKEMZG7svd3jmv7fJo23SJDQl35+S9/I+TV7SHIYh16nTZ86eO3+h6+Kly91XrvYY4XTt+g3EKnLz1m3V6Dt37yGR7j94qBL+6HEvkioaiHgSe4raKvqsbfzzFyhIXS/bxL8yA+NtvX4j635cJdzW23fC+L6E1yTZn0qnU/1JCaH3vSD+Q8T1Dww6xsEBMWGIj898dL3ZYc88nOWjc/mRT1x8Ier6R8dox9goByiKEjDuus0J1jNhqgAmPfcUWFLT0ykoTSkAZkqeu4wNs2To2VlcLisAPnteM4MNc1CZI+k1AwE9dpP5Bfu7MYQWiWURmnoVq0KKC/Me50vGBXzFc4MLVbvbxLIEbZZIBQ+n1mqao3ryzYn/jmv15WKxYSG0Qkyr0GSVVFbsUqS5hrVcFw2FXbBpbFqH8joupyXr2QXM1BkzTN7GJkKbGzChQYAt1pwswNIulyFJhWQQwPLZt9kp2pbFO0nc2fXZS3t0/F5JFu9M4yTn2T/w4g/2hcH0J34I/IdH4Ds6lHydBiREDczj+MlJ/NhECoDgfbg9oLCrCah0Ev+TAvyy5yMfUt2/KcAfhBqGjrQBYYfQ9APCJjHvB4SdRg4QdiHxAFjKrS0L1LDkgL8cAH6mGmOrhukB/M6tbRuEt3d1wI5KFmP4jKqwI3PPBUsBUCUta6zRORe2FABWw85tM8Ia11oA37auLsnB0gHAPdps+bupBPAOVz5RagDneOenShFAXzA6yQF7xVHXP249KyoHW0utQC/o8RAA4T2Rumh2BqCvusFDEFx1mct2sIZEfehLKMcLr/v6Dw5D+8lj6D+69J99hvbDE0vz6Uuk9/gGKT3//wOKqXrHYMfrIgAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAxOC0wOS0yOFQxNTowMToxMyswMjowMIL/AEkAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMTgtMDktMjhUMTU6MDE6MTMrMDI6MDDzorj1AAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAABJRU5ErkJggg==\"","import Header from './header';\r\n\r\nexport default Header;","import React from 'react';\r\n\r\nimport './header.css';\r\n\r\nconst Header = () => {\r\n  return (\r\n    <div className=\"header\">\r\n      \r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Header;","import Footer from './footer';\r\n\r\nexport default Footer;","import React from 'react';\r\n\r\nimport './footer.scss';\r\n\r\nconst Footer = () => {\r\n  return (\r\n    <div className=\"footer\">\r\n      \r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Footer;","export default class WeatherService {\r\n\r\n    _apiBase = 'https://api.openweathermap.org/data/2.5/weather?q=';\r\n\r\n    async getResource(town, lang, api) {\r\n      const res = await fetch(`${this._apiBase}${town}&lang=${lang}&units=metric&appid=${api}`);\r\n  \r\n      if (!res.ok) {\r\n        throw new Error(`Could not fetch` +\r\n          `, received ${res.status}`);\r\n      };\r\n      return await res.json();\r\n    };\r\n\r\n    async getAllWeather(town, lang, api) {\r\n      const data = await this.getResource(town, lang, api);\r\n      return await this._transformData(data);\r\n    };\r\n\r\n    _transformData = (data) => {\r\n      const str = data.weather[0].description;\r\n      const cloud = str.substr(0,1).toUpperCase() + str.substr(1);\r\n      \r\n      return {\r\n        cloud,\r\n        temp: Math.floor(data.main.temp),\r\n        wind: data.wind.speed,\r\n        img: `https://openweathermap.org/img/wn/${data.weather[0].icon}@2x.png`,\r\n        town: data.name,\r\n        icon: data.weather[0].icon\r\n      };\r\n    };\r\n  };\r\n  ","import ErrorIndicator from './error-indicator';\r\nexport default ErrorIndicator;","import React from 'react';\r\n\r\nimport './error-indicator.css';\r\nimport icon from './death-star.png';\r\n\r\nconst ErrorIndicator = () => {\r\n  return (\r\n    <div className=\"error-indicator\">\r\n      <img src={ icon } alt=\"error-icon\" />\r\n      <span className=\"boom\">BOOM!</span>\r\n      <span>\r\n        что то пошло не так\r\n      </span>\r\n      <span>\r\n        (мы уже устраняем это)\r\n      </span>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ErrorIndicator;","const API_KEY = '5202b3fb482c3b9762b51c55a72f1230';\r\n\r\nexport default API_KEY;","import React, { Component } from 'react';\r\nimport WeatherService from '../../services/weather-service';\r\n\r\nimport './results-weather.scss';\r\nimport ErrorIndicator from '../error-indicator';\r\nimport API_KEY from '../../const/api';\r\n\r\nexport default class ResultsWeather extends Component {\r\n  weatherService = new WeatherService();\r\n\r\n  state = {\r\n    data: {\r\n    },\r\n    hasRain: false,\r\n    hasError: false\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.getData();\r\n  };\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if (this.props.town !== prevProps.town) {\r\n      this.getData();\r\n    };\r\n  };\r\n\r\n  componentDidCatch() {\r\n    this.setState({\r\n      hasError: true\r\n    });\r\n  };\r\n\r\n  getData = () => {\r\n    this.weatherService.getAllWeather(this.props.town, 'ru', API_KEY)\r\n      .then((res) => {\r\n        this.setState({\r\n          data: res\r\n        });\r\n        this.hasRain(res.cloud);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err)\r\n        this.props.setError()\r\n      });\r\n  };\r\n\r\n  getClothes = () => {\r\n    const { temp } = this.state.data;\r\n    let clothes = '';\r\n    let imgClothes = '';\r\n    if(temp > 30) {\r\n      clothes = 'Рекомендуем готовиться к пляжному сезону'\r\n    } else if (temp > 20) {\r\n      clothes = 'Рекомендуем надеть шорты и майку';\r\n    } else if (temp > 13) {\r\n      clothes = 'Рекомендуем надеть штаны и рубашку';\r\n    } else if (temp > 0) {\r\n      clothes = 'Рекомендуем надеть штаны, кофту и куртку';\r\n    } else if (temp <= 0 && temp > -10) {\r\n      clothes = 'Рекомендуем надеть штаны, кофту и осеннюю куртку';\r\n    } else if (temp < -10 && temp > -20 ) {\r\n      clothes = 'Рекомендуем надеть туплые штаны, кофту и зимнюю куртку';\r\n    } else {\r\n      clothes = 'Не рекомендуем выходить на улицу, но если выбора неть - наденьте всё, что есть';\r\n    };\r\n\r\n    return {\r\n      clothes,\r\n      imgClothes\r\n    };\r\n  };\r\n\r\n  hasRain = (cloud) => {\r\n    if (cloud === 'небольшой проливной дождь' || cloud === 'небольшой дождь' || cloud === 'дождь' || cloud === 'гроза') {\r\n      this.setState({ \r\n        hasRain: true\r\n      });\r\n    } else {\r\n      this.setState({ \r\n        hasRain: false\r\n      });\r\n    }\r\n  };\r\n\r\n  render() {\r\n\r\n    if (this.state.hasError) {\r\n      return <ErrorIndicator />\r\n    };\r\n\r\n    const { cloud, town, img, temp, wind } = this.state.data;\r\n    const { hasRain } = this.state;\r\n    const { clothes } = this.getClothes();\r\n\r\n    const content = hasRain ? <UmbrellaView /> : null;\r\n\r\n    return (\r\n      <div className=\"results-weather\">\r\n        <div className=\"results-weather__container\">\r\n          <h2 className=\"results-weather__content-title\"> { town } </h2>\r\n          <img className=\"results-weather__img\" src={ img } alt=\"weather\"/>\r\n        </div>\r\n        <p className=\"results-weather__paragraph\">\r\n          <i className=\"results-weather__btn btn btn-light btn-sm fa fa-binoculars\"/> { cloud }\r\n        </p>\r\n        <p className=\"results-weather__paragraph\">\r\n          <i className=\"results-weather__btn btn btn-info btn-sm fa fa-info\"/> Температура: { temp} t&deg; \r\n        </p>\r\n        <p className=\"results-weather__paragraph\">\r\n          <i className=\"results-weather__btn btn btn-primary btn-sm fa fa-cloud\"/> Скорость ветра: { wind } м/с \r\n        </p>\r\n        <p className=\"results-weather__paragraph\">\r\n          <i className=\"results-weather__btn btn btn-success btn-sm fa fa-question\"/> { clothes } \r\n        </p>\r\n        { content }\r\n      </div>\r\n    );\r\n  };\r\n};\r\n\r\nconst UmbrellaView = () => {\r\n  return (\r\n    <React.Fragment>\r\n      <p className=\"results-weather__paragraph\">\r\n        <i className=\"results-weather__btn btn btn-warning btn-sm fa fa-exclamation\"/> Не забудьте зонт <i className=\"results-weather__btn btn btn-warning btn-sm fa fa-umbrella\"/> \r\n      </p>\r\n    </React.Fragment>\r\n  );\r\n};\r\n","import ResultsWeather from './results-weather';\r\nexport default ResultsWeather;","import React, { Component } from 'react';\r\nimport WeatherService from '../../services/weather-service';\r\n\r\nimport './search-form.scss';\r\nimport ResultsWeather from '../results-weather';\r\nimport ErrorIndicator from '../error-indicator';\r\n\r\nexport default class SearchForm extends Component {\r\n\r\n  weatherService = new WeatherService();\r\n\r\n  state = {\r\n    input: '',\r\n    town: 'Москва',\r\n    error: false,\r\n    hasError: false\r\n  };\r\n\r\n  componentDidCatch() {\r\n    this.setState({\r\n      hasError: true\r\n    });\r\n  };\r\n\r\n  inputChange = (event) => {\r\n    const input = event.target.value\r\n    this.setState(() => {\r\n      return {\r\n        input\r\n      };\r\n    });\r\n  };\r\n\r\n  changeTown = (event) => {\r\n    event.preventDefault();\r\n    if (this.state.input === '') {\r\n      this.setError();\r\n      return;\r\n    };\r\n\r\n    this.setState(() => {\r\n      return {\r\n        town: this.state.input,\r\n        error: false,\r\n        input: ''\r\n      };\r\n    });\r\n  };\r\n\r\n  setError = () => {\r\n    this.setState(() => {\r\n      return {\r\n        error: true\r\n      };\r\n    });\r\n  };\r\n\r\n  render() {\r\n    if (this.state.hasError) {\r\n      return <ErrorIndicator />\r\n    };\r\n\r\n    const { error } = this.state;\r\n    const contentError = error ? <ErrorView /> : null;\r\n\r\n    return (\r\n      <div>\r\n        <form className=\"form\">\r\n          <div className=\"form__container\">\r\n            { contentError }\r\n            <input className=\"form-control\"\r\n                  onChange={ this.inputChange }\r\n                  value={ this.state.input }\r\n                  placeholder=\"введите город\"/>\r\n            <button onClick={ this.changeTown }\r\n                    className=\"form__button btn btn-primary\">click</button>\r\n          </div>\r\n        </form>\r\n        <ResultsWeather town={ this.state.town } setError={ this.setError } />\r\n      </div>\r\n    );\r\n  };\r\n};\r\n\r\nconst ErrorView = () => {\r\n  return (\r\n    <React.Fragment>\r\n      <span className=\"form__error\">Введите название города</span>\r\n    </React.Fragment>\r\n  );\r\n};","import SearchForm from './search-form';\r\n\r\nexport default SearchForm;\r\n","import Main from './main';\r\n\r\nexport default Main;","import React from 'react';\r\nimport SearchForm from '../search-form';\r\n\r\nimport './main.scss';\r\n\r\nconst Main = () => {\r\n  return (\r\n    <div className=\"main\">\r\n      <h1 className=\"main__content-title\">Умный сервис прогноза погоды</h1>\r\n      <SearchForm />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Main;","import App from './app';\r\n\r\nexport default App;\r\n","import React, { Component } from 'react';\r\n\r\nimport Header from '../header';\r\nimport Footer from '../footer';\r\nimport Main from '../main';\r\n\r\nexport default class App extends Component {\r\n\r\n  state = {\r\n    showRandomPlanet: true,\r\n    hasError: false\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"app\">\r\n        <Header />\r\n        <Main />\r\n        <Footer />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './vendor/normalize.scss';\r\nimport App from './components/app';\r\n\r\nReactDOM.render(<App />,\r\n  document.getElementById('root'));\r\n"],"sourceRoot":""}